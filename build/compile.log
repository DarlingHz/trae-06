[  5%] Building CXX object CMakeFiles/bookmark_tests.dir/tests/test_user_service.cpp.o
[ 10%] Building CXX object CMakeFiles/bookmark_tests.dir/tests/test_bookmark_service.cpp.o
[ 15%] Building CXX object CMakeFiles/bookmark_service.dir/src/http/Server.cpp.o
[ 21%] Building CXX object CMakeFiles/bookmark_service.dir/src/main.cpp.o
/Users/soma/code/trae/12-03/2/06/tests/test_bookmark_service.cpp:15:57: error: non-const lvalue reference to type 'DatabasePool' cannot bind to a value of unrelated type 'std::shared_ptr<repository::DatabasePool>'
   15 |         user_repo_ = repository::create_user_repository(db_pool_);
      |                                                         ^~~~~~~~
/Users/soma/code/trae/12-03/2/06/include/repository/UserRepository.h:25:70: note: passing argument to parameter 'db_pool' here
   25 | std::unique_ptr<UserRepository> create_user_repository(DatabasePool& db_pool);
      |                                                                      ^
/Users/soma/code/trae/12-03/2/06/tests/test_bookmark_service.cpp:16:65: error: non-const lvalue reference to type 'DatabasePool' cannot bind to a value of unrelated type 'std::shared_ptr<repository::DatabasePool>'
   16 |         bookmark_repo_ = repository::create_bookmark_repository(db_pool_);
      |                                                                 ^~~~~~~~
/Users/soma/code/trae/12-03/2/06/include/repository/BookmarkRepository.h:76:78: note: passing argument to parameter 'db_pool' here
   76 | std::unique_ptr<BookmarkRepository> create_bookmark_repository(DatabasePool& db_pool);
      |                                                                              ^
/Users/soma/code/trae/12-03/2/06/tests/test_bookmark_service.cpp:21:20: error: no member named 'release' in 'std::shared_ptr<repository::UserRepository>'
   21 |         user_repo_.release(); // Release ownership from shared_ptr
      |         ~~~~~~~~~~ ^
/Users/soma/code/trae/12-03/2/06/tests/test_bookmark_service.cpp:25:24: error: no member named 'release' in 'std::shared_ptr<repository::BookmarkRepository>'
   25 |         bookmark_repo_.release(); // Release ownership from shared_ptr
      |         ~~~~~~~~~~~~~~ ^
/Users/soma/code/trae/12-03/2/06/tests/test_bookmark_service.cpp:41:19: error: no member named 'clear' in 'repository::DatabasePool'
   41 |         db_pool_->clear();
      |         ~~~~~~~~~~^
/Users/soma/code/trae/12-03/2/06/tests/test_user_service.cpp:13:57: error: non-const lvalue reference to type 'DatabasePool' cannot bind to a value of unrelated type 'std::shared_ptr<repository::DatabasePool>'
   13 |         user_repo_ = repository::create_user_repository(db_pool_);
      |                                                         ^~~~~~~~
/Users/soma/code/trae/12-03/2/06/include/repository/UserRepository.h:25:70: note: passing argument to parameter 'db_pool' here
   25 | std::unique_ptr<UserRepository> create_user_repository(DatabasePool& db_pool);
      |                                                                      ^
/Users/soma/code/trae/12-03/2/06/tests/test_user_service.cpp:19:19: error: no member named 'clear' in 'repository::DatabasePool'
   19 |         db_pool_->clear();
      |         ~~~~~~~~~~^
/Users/soma/code/trae/12-03/2/06/tests/test_user_service.cpp:30:32: error: 'validate_email' is a private member of 'service::UserService'
   30 |     ASSERT_TRUE(user_service_->validate_email("user@example.com"));
      |                                ^
/Users/soma/code/trae/12-03/2/06/include/service/UserService.h:39:10: note: declared private here
   39 |     bool validate_email(const std::string& email) const;
      |          ^
/Users/soma/code/trae/12-03/2/06/tests/test_user_service.cpp:31:32: error: 'validate_email' is a private member of 'service::UserService'
   31 |     ASSERT_TRUE(user_service_->validate_email("user.name+tag@example.co.uk"));
      |                                ^
/Users/soma/code/trae/12-03/2/06/include/service/UserService.h:39:10: note: declared private here
   39 |     bool validate_email(const std::string& email) const;
      |          ^
/Users/soma/code/trae/12-03/2/06/tests/test_user_service.cpp:32:32: error: 'validate_email' is a private member of 'service::UserService'
   32 |     ASSERT_TRUE(user_service_->validate_email("user123@example.com"));
      |                                ^
/Users/soma/code/trae/12-03/2/06/include/service/UserService.h:39:10: note: declared private here
   39 |     bool validate_email(const std::string& email) const;
      |          ^
/Users/soma/code/trae/12-03/2/06/tests/test_user_service.cpp:35:33: error: 'validate_email' is a private member of 'service::UserService'
   35 |     ASSERT_FALSE(user_service_->validate_email("user"));
      |                                 ^
/Users/soma/code/trae/12-03/2/06/include/service/UserService.h:39:10: note: declared private here
   39 |     bool validate_email(const std::string& email) const;
      |          ^
/Users/soma/code/trae/12-03/2/06/tests/test_user_service.cpp:36:33: error: 'validate_email' is a private member of 'service::UserService'
   36 |     ASSERT_FALSE(user_service_->validate_email("user@"));
      |                                 ^
/Users/soma/code/trae/12-03/2/06/include/service/UserService.h:39:10: note: declared private here
   39 |     bool validate_email(const std::string& email) const;
      |          ^
/Users/soma/code/trae/12-03/2/06/tests/test_user_service.cpp:37:33: error: 'validate_email' is a private member of 'service::UserService'
   37 |     ASSERT_FALSE(user_service_->validate_email("user@example"));
      |                                 ^
/Users/soma/code/trae/12-03/2/06/include/service/UserService.h:39:10: note: declared private here
   39 |     bool validate_email(const std::string& email) const;
      |          ^
/Users/soma/code/trae/12-03/2/06/tests/test_user_service.cpp:38:33: error: 'validate_email' is a private member of 'service::UserService'
   38 |     ASSERT_FALSE(user_service_->validate_email("user@.com"));
      |                                 ^
/Users/soma/code/trae/12-03/2/06/include/service/UserService.h:39:10: note: declared private here
   39 |     bool validate_email(const std::string& email) const;
      |          ^
/Users/soma/code/trae/12-03/2/06/tests/test_user_service.cpp:39:33: error: 'validate_email' is a private member of 'service::UserService'
   39 |     ASSERT_FALSE(user_service_->validate_email("@example.com"));
      |                                 ^
/Users/soma/code/trae/12-03/2/06/include/service/UserService.h:39:10: note: declared private here
   39 |     bool validate_email(const std::string& email) const;
      |          ^
/Users/soma/code/trae/12-03/2/06/tests/test_user_service.cpp:43:32: error: 'validate_password' is a private member of 'service::UserService'
   43 |     ASSERT_TRUE(user_service_->validate_password("pass123")); // 6 characters
      |                                ^
/Users/soma/code/trae/12-03/2/06/include/service/UserService.h:40:10: note: declared private here
   40 |     bool validate_password(const std::string& password) const;
      |          ^
/Users/soma/code/trae/12-03/2/06/tests/test_bookmark_service.cpp:247:21: error: reference to non-static member function must be called; did you mean to call it with no arguments?
  247 |     ASSERT_EQ(stats.total_bookmarks, 5);
      |               ~~~~~~^~~~~~~~~~~~~~~
/opt/homebrew/include/gtest/gtest.h:1914:47: note: expanded from macro 'ASSERT_EQ'
 1914 | #define ASSERT_EQ(val1, val2) GTEST_ASSERT_EQ(val1, val2)
      |                                               ^~~~
/opt/homebrew/include/gtest/gtest.h:1898:63: note: expanded from macro 'GTEST_ASSERT_EQ'
 1898 |   ASSERT_PRED_FORMAT2(::testing::internal::EqHelper::Compare, val1, val2)
      |                                                               ^~~~
/opt/homebrew/include/gtest/gtest_pred_impl.h:148:36: note: expanded from macro 'ASSERT_PRED_FORMAT2'
  148 |   GTEST_PRED_FORMAT2_(pred_format, v1, v2, GTEST_FATAL_FAILURE_)
      |                                    ^~
/opt/homebrew/include/gtest/gtest_pred_impl.h:134:39: note: expanded from macro 'GTEST_PRED_FORMAT2_'
  134 |   GTEST_ASSERT_(pred_format(#v1, #v2, v1, v2), on_failure)
      |                                       ^~
/opt/homebrew/include/gtest/gtest_pred_impl.h:79:52: note: expanded from macro 'GTEST_ASSERT_'
   79 |   if (const ::testing::AssertionResult gtest_ar = (expression)) \
      |                                                    ^~~~~~~~~~
/Users/soma/code/trae/12-03/2/06/tests/test_user_service.cpp:44:32: error: 'validate_password' is a private member of 'service::UserService'
   44 |     ASSERT_TRUE(user_service_->validate_password("password")); // 8 characters
      |                                ^
/Users/soma/code/trae/12-03/2/06/include/service/UserService.h:40:10: note: declared private here
   40 |     bool validate_password(const std::string& password) const;
      |          ^
/Users/soma/code/trae/12-03/2/06/tests/test_user_service.cpp:46:33: error: 'validate_password' is a private member of 'service::UserService'
   46 |     ASSERT_FALSE(user_service_->validate_password("pass")); // 4 characters
      |                                 ^
/Users/soma/code/trae/12-03/2/06/include/service/UserService.h:40:10: note: declared private here
   40 |     bool validate_password(const std::string& password) const;
      |          ^
/Users/soma/code/trae/12-03/2/06/tests/test_user_service.cpp:47:33: error: 'validate_password' is a private member of 'service::UserService'
   47 |     ASSERT_/Users/soma/code/trae/12-03/2/06/tests/test_bookmark_service.cpp:248:21: error: reference to non-static member function must be called; did you mean to call it with no arguments?
  248 |     ASSERT_EQ(stats.unread_count, 3);
      |               ~~~~~~^~~~~~~~~~~~
/opt/homebrew/include/gtest/gtest.h:1914:47: note: expanded from macro 'ASSERT_EQ'
 1914 | #define ASSERT_EQ(val1, val2) GTEST_ASSERT_EQ(val1, val2)
      |                                               ^~~~
/opt/homebrew/include/gtest/gtest.h:1898:63: note: expanded from macro 'GTEST_ASSERT_EQ'
 1898 |   ASSERT_PRED_FORMAT2(::testing::internal::EqHelper::Compare, val1, val2)
      |                                                               ^~~~
/opt/homebrew/include/gtest/gtest_pred_impl.h:148:36: note: expanded from macro 'ASSERT_PRED_FORMAT2'
  148 |   GTEST_PRED_FORMAT2_(pred_format, v1, v2, GTEST_FATAL_FAILURE_)
      |                                    ^~
/opt/homebrew/include/gtest/gtest_pred_impl.h:134:39: note: expanded from macro 'GTEST_PRED_FORMAT2_'
  134 |   GTEST_ASSERT_(pred_format(#v1, #v2, v1, v2), on_failure)
      |                                       ^~
/opt/homebrew/include/gtest/gtest_pred_impl.h:79:52: note: expanded from macro 'GTEST_ASSERT_'
   79 |   if (const ::testing::AssertionResult gtest_ar = (expression)) \
      |                                                    ^~~~~~~~~~
/Users/soma/code/trae/12-03/2/06/tests/test_bookmark_service.cpp:249:21: error: reference to non-static member function must be called; did you mean to call it with no arguments?
  249 |     ASSERT_EQ(stats.read_count, 2);
      |               ~~~~~~^~~~~~~~~~
/opt/homebrew/include/gtest/gtest.h:1914:47: note: expanded from macro 'ASSERT_EQ'
 1914 | #define ASSERT_EQ(val1, val2) GTEST_ASSERT_EQ(val1, val2)
      |                                               ^~~~
/opt/homebrew/include/gtest/gtest.h:1898:63: note: expanded from macro 'GTEST_ASSERT_EQ'
 1898 |   ASSERT_PRED_FORMAT2(::testing::internal::EqHelper::Compare, val1, val2)
      |                                                               ^~~~
/opt/homebrew/include/gtest/gtest_pred_impl.h:148:36: note: expanded from macro 'ASSERT_PRED_FORMAT2'
  148 |   GTEST_PRED_FORMAT2_(pred_format, v1, v2, GTEST_FATAL_FAILURE_)
      |                                    ^~
/opt/homebrew/include/gtest/gtest_pred_impl.h:134:39: note: expanded from macro 'GTEST_PRED_FORMAT2_'
  134 |   GTEST_ASSERT_(pred_format(#v1, #v2, v1, v2), on_failure)
      |                                       ^~
/opt/homebrew/include/gtest/gtest_pred_impl.h:79:52: note: expanded from macro 'GTEST_ASSERT_'
   79 |   if (const ::testing::AssertionResult gtest_ar = (expression)) \
      |                                                    ^~~~~~~~~~
/Users/soma/code/trae/12-03/2/06/tests/test_bookmark_service.cpp:250:21: error: reference to non-static member function must be called; did you mean to call it with no arguments?
  250 |     ASSERT_EQ(stats.favorite_count, 3); // 0, 2, 4
      |               ~~~~~~^~~~~~~~~~~~~~
/opt/homebrew/include/gtest/gtest.h:1914:47: note: expanded from macro 'ASSERT_EQ'
 1914 | #define ASSERT_EQ(val1, val2) GTEST_ASSERT_EQ(val1, val2)
      |                                               ^~~~
/opt/homebrew/include/gtest/gtest.h:1898:63: note: expanded from macro 'GTEST_ASSERT_EQ'
 1898 |   ASSERT_PRED_FORMAT2(::testing::internal::EqHelper::Compare, val1, val2)
      |                                                               ^~~~
/opt/homebrew/include/gtest/gtest_pred_impl.h:148:36: note: expanded from macro 'ASSERT_PRED_FORMAT2'
  148 |   GTEST_PRED_FORMAT2_(pred_format, v1, v2, GTEST_FATAL_FAILURE_)
      |                                    ^~
/opt/homebrew/include/gtest/gtest_pred_impl.h:134:39: note: expanded from macro 'GTEST_PRED_FORMAT2_'
  134 |   GTEST_ASSERT_(pred_format(#v1, #v2, v1, v2), on_failure)
      |                                       ^~
/opt/homebrew/include/gtest/gtest_pred_impl.h:79:52: note: expanded from macro 'GTEST_ASSERT_'
   79 |   if (const ::testing::AssertionResult gtest_ar = (expression)) \
      |                                                    ^~~~~~~~~~
FALSE(user_service_->validate_password("")); // empty
      |                                 ^
/Users/soma/code/trae/12-03/2/06/include/service/UserService.h:40:10: note: declared private here
   40 |     bool validate_password(const std::string& password) const;
      |          ^
/Users/soma/code/trae/12-03/2/06/tests/test_user_service.cpp:187:40: error: 'hash_password' is a private member of 'service::UserService'
  187 |     std::string hash1 = user_service_->hash_password(password);
      |                                        ^
/Users/soma/code/trae/12-03/2/06/include/service/UserService.h:41:17: note: declared private here
   41 |     std::string hash_password(const std::string& password) const;
      |                 ^
/Users/soma/code/trae/12-03/2/06/tests/test_user_service.cpp:188:40: error: 'hash_password' is a private member of 'service::UserService'
  188 |     std::string hash2 = user_service_->hash_password(password);
      |                                        ^
/Users/soma/code/trae/12-03/2/06/include/service/UserService.h:41:17: note: declared private here
   41 |     std::string hash_password(const std::string& password) const;
      |                 ^
/Users/soma/code/trae/12-03/2/06/tests/test_user_service.cpp:193:32: error: 'verify_password' is a private member of 'service::UserService'
  193 |     ASSERT_TRUE(user_service_->verify_password(password, hash1));
      |                                ^
/Users/soma/code/trae/12-03/2/06/include/service/UserService.h:42:10: note: declared private here
   42 |     bool verify_password(const std::string& password, const std::string& hash) const;
      |          ^
/Users/soma/code/trae/12-03/2/06/tests/test_user_service.cpp:194:32: error: 'verify_password' is a private member of 'service::UserService'
  194 |     ASSERT_TRUE(user_service_->verify_password(password, hash2));
      |                                ^
/Users/soma/code/trae/12-03/2/06/include/service/UserService.h:42:10: note: declared private here
   42 |     bool verify_password(const std::string& password, const std::string& hash) const;
      |          ^
/Users/soma/code/trae/12-03/2/06/tests/test_user_service.cpp:197:33: error: 'verify_password' is a private member of 'service::UserService'
  197 |     ASSERT_FALSE(user_service_->verify_password("wrongpassword", hash1));
      |                                 ^
/Users/soma/code/trae/12-03/2/06/include/service/UserService.h:42:10: note: declared private here
   42 |     bool verify_password(const std::string& password, const std::string& hash) const;
      |          ^
fatal error: too many errors emitted, stopping now [-ferror-limit=]
20 errors generated.
make[2]: *** [CMakeFiles/bookmark_tests.dir/tests/test_user_service.cpp.o] Error 1
make[2]: *** Waiting for unfinished jobs....
9 errors generated.
make[2]: *** [CMakeFiles/bookmark_tests.dir/tests/test_bookmark_service.cpp.o] Error 1
make[1]: *** [CMakeFiles/bookmark_tests.dir/all] Error 2
make[1]: *** Waiting for unfinished jobs....
/Users/soma/code/trae/12-03/2/06/src/http/Server.cpp:77:22: error: no viable conversion from 'models::User' to 'json' (aka 'basic_json<>')
   77 |                 json data = *user;
      |                      ^      ~~~~~
/opt/homebrew/include/nlohmann/json.hpp:818:5: note: candidate constructor not viable: no known conversion from 'models::User' to 'const value_t' (aka 'const nlohmann::detail::value_t') for 1st argument
  818 |     basic_json(const value_t v)
      |     ^          ~~~~~~~~~~~~~~~
/opt/homebrew/include/nlohmann/json.hpp:826:5: note: candidate constructor not viable: no known conversion from 'models::User' to 'std::nullptr_t' for 1st argument
  826 |     basic_json(std::nullptr_t = nullptr) noexcept // NOLINT(bugprone-exception-escape)
      |     ^          ~~~~~~~~~~~~~~~~~~~~~~~~
/opt/homebrew/include/nlohmann/json.hpp:910:5: note: candidate constructor not viable: no known conversion from 'models::User' to 'initializer_list_t' (aka 'initializer_list<detail::json_ref<basic_json<std::map, std::vector, string, bool, long long, unsigned long long, double, std::allocator, nlohmann::adl_serializer, vector<unsigned char, allocator<unsigned char>>, void>>>') for 1st argument
  910 |     basic_json(initializer_list_t init,
      |     ^          ~~~~~~~~~~~~~~~~~~~~~~~
/opt/homebrew/include/nlohmann/json.hpp:1153:5: note: candidate constructor not viable: no known conversion from 'models::User' to 'const basic_json<> &' for 1st argument
 1153 |     basic_json(const basic_json& other)
      |     ^          ~~~~~~~~~~~~~~~~~~~~~~~
/opt/homebrew/include/nlohmann/json.hpp:1226:5: note: candidate constructor not viable: no known conversion from 'models::User' to 'basic_json<> &&' for 1st argument
 1226 |     basic_json(basic_json&& other) noexcept
      |     ^          ~~~~~~~~~~~~~~~~~~
/opt/homebrew/include/nlohmann/json.hpp:838:5: note: candidate template ignored: requirement 'detail::is_compatible_type<nlohmann::basic_json<std::map, std::vector, std::string, bool, long long, unsigned long long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char>>, void>, models::User>::value' was not satisfied [with CompatibleType = models::User &, U = detail::uncvref_t<User &>]
  838 |     basic_json(CompatibleType && val) noexcept(noexcept( // NOLINT(bugprone-forwarding-reference-overload,bugprone-exception-escape)
      |     ^
/opt/homebrew/include/nlohmann/json.hpp:852:5: note: candidate template ignored: requirement 'detail::is_basic_json<models::User>::value' was not satisfied [with BasicJsonType = models::User]
  852 |     basic_json(const BasicJsonType& val)
      |     ^
/opt/homebrew/include/nlohmann/json.hpp:1149:5: note: candidate template ignored: substitution failure [with JsonRef = models::User]: no type named 'value_type' in 'models::User'
 1148 |                                  std::is_same<typename JsonRef::value_type, basic_json>>::value, int> = 0 >
      |                                                                 ~~~~~~~~~~
 1149 |     basic_json(const JsonRef& ref) : basic_json(ref.moved_or_copied()) {}
      |     ^
/Users/soma/code/trae/12-03/2/06/src/http/Server.cpp:103:22: error: no viable conversion from 'models::User' to 'json' (aka 'basic_json<>')
  103 |                 json user_json = *response->user;
      |                      ^           ~~~~~~~~~~~~~~~
/opt/homebrew/include/nlohmann/json.hpp:818:5: note: candidate constructor not viable: no known conversion from 'models::User' to 'const value_t' (aka 'const nlohmann::detail::value_t') for 1st argument
  818 |     basic_json(const value_t v)
      |     ^          ~~~~~~~~~~~~~~~
/opt/homebrew/include/nlohmann/json.hpp:826:5: note: candidate constructor not viable: no known conversion from 'models::User' to 'std::nullptr_t' for 1st argument
  826 |     basic_json(std::nullptr_t = nullptr) noexcept // NOLINT(bugprone-exception-escape)
      |     ^          ~~~~~~~~~~~~~~~~~~~~~~~~
/opt/homebrew/include/nlohmann/json.hpp:910:5: note: candidate constructor not viable: no known conversion from 'models::User' to 'initializer_list_t' (aka 'initializer_list<detail::json_ref<basic_json<std::map, std::vector, string, bool, long long, unsigned long long, double, std::allocator, nlohmann::adl_serializer, vector<unsigned char, allocator<unsigned char>>, void>>>') for 1st argument
  910 |     basic_json(initializer_list_t init,
      |     ^          ~~~~~~~~~~~~~~~~~~~~~~~
/opt/homebrew/include/nlohmann/json.hpp:1153:5: note: candidate constructor not viable: no known conversion from 'models::User' to 'const basic_json<> &' for 1st argument
 1153 |     basic_json(const basic_json& other)
      |     ^          ~~~~~~~~~~~~~~~~~~~~~~~
/opt/homebrew/include/nlohmann/json.hpp:1226:5: note: candidate constructor not viable: no known conversion from 'models::User' to 'basic_json<> &&' for 1st argument
 1226 |     basic_json(basic_json&& other) noexcept
      |     ^          ~~~~~~~~~~~~~~~~~~
/opt/homebrew/include/nlohmann/json.hpp:838:5: note: candidate template ignored: requirement 'detail::is_compatible_type<nlohmann::basic_json<std::map, std::vector, std::string, bool, long long, unsigned long long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char>>, void>, models::User>::value' was not satisfied [with CompatibleType = models::User &, U = detail::uncvref_t<User &>]
  838 |     basic_json(CompatibleType && val) noexcept(noexcept( // NOLINT(bugprone-forwarding-reference-overload,bugprone-exception-escape)
      |     ^
/opt/homebrew/include/nlohmann/json.hpp:852:5: note: candidate template ignored: requirement 'detail::is_basic_json<models::User>::value' was not satisfied [with BasicJsonType = models::User]
  852 |     basic_json(const BasicJsonType& val)
      |     ^
/opt/homebrew/include/nlohmann/json.hpp:1149:5: note: candidate template ignored: substitution failure [with JsonRef = models::User]: no type named 'value_type' in 'models::User'
 1148 |                                  std::is_same<typename JsonRef::value_type, basic_json>>::value, int> = 0 >
      |                                                                 ~~~~~~~~~~
 1149 |     basic_json(const JsonRef& ref) : basic_json(ref.moved_or_copied()) {}
      |     ^
/Users/soma/code/trae/12-03/2/06/src/http/Server.cpp:119:22: error: no viable conversion from 'models::User' to 'json' (aka 'basic_json<>')
  119 |                 json data = *user;
      |                      ^      ~~~~~
/opt/homebrew/include/nlohmann/json.hpp:818:5: note: candidate constructor not viable: no known conversion from 'models::User' to 'const value_t' (aka 'const nlohmann::detail::value_t') for 1st argument
  818 |     basic_json(const value_t v)
      |     ^          ~~~~~~~~~~~~~~~
/opt/homebrew/include/nlohmann/json.hpp:826:5: note: candidate constructor not viable: no known conversion from 'models::User' to 'std::nullptr_t' for 1st argument
  826 |     basic_json(std::nullptr_t = nullptr) noexcept // NOLINT(bugprone-exception-escape)
      |     ^          ~~~~~~~~~~~~~~~~~~~~~~~~
/opt/homebrew/include/nlohmann/json.hpp:910:5: note: candidate constructor not viable: no known conversion from 'models::User' to 'initializer_list_t' (aka 'initializer_list<detail::json_ref<basic_json<std::map, std::vector, string, bool, long long, unsigned long long, double, std::allocator, nlohmann::adl_serializer, vector<unsigned char, allocator<unsigned char>>, void>>>') for 1st argument
  910 |     basic_json(initializer_list_t init,
      |     ^          ~~~~~~~~~~~~~~~~~~~~~~~
/opt/homebrew/include/nlohmann/json.hpp:1153:5: note: candidate constructor not viable: no known conversion from 'models::User' to 'const basic_json<> &' for 1st argument
 1153 |     basic_json(const basic_json& other)
      |     ^          ~~~~~~~~~~~~~~~~~~~~~~~
/opt/homebrew/include/nlohmann/json.hpp:1226:5: note: candidate constructor not viable: no known conversion from 'models::User' to 'basic_json<> &&' for 1st argument
 1226 |     basic_json(basic_json&& other) noexcept
      |     ^          ~~~~~~~~~~~~~~~~~~
/opt/homebrew/include/nlohmann/json.hpp:838:5: note: candidate template ignored: requirement 'detail::is_compatible_type<nlohmann::basic_json<std::map, std::vector, std::string, bool, long long, unsigned long long, double, std::allocator, nlohmann::adl_serializer, std::vector<unsigned char, std::allocator<unsigned char>>, void>, models::User>::value' was not satisfied [with CompatibleType = models::User &, U = detail::uncvref_t<User &>]
  838 |     basic_json(CompatibleType && val) noexcept(noexcept( // NOLINT(bugprone-forwarding-reference-overload,bugprone-exception-escape)
      |     ^
/opt/homebrew/include/nlohmann/json.hpp:852:5: note: candidate template ignored: requirement 'detail::is_basic_json<models::User>::value' was not satisfied [with BasicJsonType = models::User]
  852 |     basic_json(const BasicJsonType& val)
      |     ^
/opt/homebrew/include/nlohmann/json.hpp:1149:5: note: candidate template ignored: substitution failure [with JsonRef = models::User]: no type named 'value_type' in 'models::User'
 1148 |                                  std::is_same<typename JsonRef::value_type, basic_json>>::value, int> = 0 >
      |                                                                 ~~~~~~~~~~
 1149 |     basic_json(const JsonRef& ref) : basic_json(ref.moved_or_copied()) {}
      |     ^
/Users/soma/code/trae/12-03/2/06/src/http/Server.cpp:155:73: error: no viable overloaded '='
  155 |                 nlohmann::json response_data; response_data["bookmark"] = *bookmark; send_success_response(res, response_data);
      |                                               ~~~~~~~~~~~~~~~~~~~~~~~~~ ^ ~~~~~~~~~
/opt/homebrew/include/nlohmann/json.hpp:1252:17: note: candidate function not viable: no known conversion from 'models::Bookmark' to 'basic_json<>' for 1st argument
 1252 |     basic_json& operator=(basic_json other) noexcept (
      |                 ^         ~~~~~~~~~~~~~~~~
/Users/soma/code/trae/12-03/2/06/src/main.cpp:18:18: error: no member named 'init' in 'repository::DatabasePool'
   18 |         db_pool->init();
      |         ~~~~~~~~~^
/Users/soma/code/trae/12-03/2/06/src/http/Server.cpp:251:25: error: no matching constructor for initialization of 'json' (aka 'basic_json<>')
  251 |             json data = json({
      |                         ^    ~
  252 |                 {"bookmarks", result.bookmarks},
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  253 |                 {"total", result.total},
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~
  254 |                 {"page", result.page},
      |                 ~~~~~~~~~~~~~~~~~~~~~~
  255 |                 {"page_size", result.page_size},
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  256 |                 {"total_pages", result.total_pages}
      |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  257 |             });
      |             ~
/opt/homebrew/include/nlohmann/json.hpp:818:5: note: candidate constructor not viable: cannot convert initializer list argument to 'const value_t' (aka 'const nlohmann::detail::value_t')
  818 |     basic_json(const value_t v)
      |     ^          ~~~~~~~~~~~~~~~
/opt/homebrew/include/nlohmann/json.hpp:826:5: note: candidate constructor not viable: cannot convert initializer list argument to 'std::nullptr_t'
  826 |     basic_json(std::nullptr_t = nullptr) noexcept // NOLINT(bugprone-exception-escape)
      |     ^          ~~~~~~~~~~~~~~~~~~~~~~~~
/opt/homebrew/include/nlohmann/json.hpp:910:5: note: candidate constructor not viable: cannot convert initializer list argument to 'nlohmann::detail::json_ref<nlohmann::basic_json<>>'
  910 |     basic_json(initializer_list_t init,
      |     ^          ~~~~~~~~~~~~~~~~~~~~~~~
/opt/homebrew/include/nlohmann/json.hpp:1153:5: note: candidate constructor not viable: cannot convert initializer list argument to 'const basic_json<>'
 1153 |     basic_json(const basic_json& other)
      |     ^          ~~~~~~~~~~~~~~~~~~~~~~~
/opt/homebrew/include/nlohmann/json.hpp:1226:5: note: candidate constructor not viable: cannot convert initializer list argument to 'basic_json<>'
 1226 |     basic_json(basic_json&& other) noexcept
      |     ^          ~~~~~~~~~~~~~~~~~~
/opt/homebrew/include/nlohmann/json.hpp:838:5: note: candidate template ignored: couldn't infer template argument 'CompatibleType'
  838 |     basic_json(CompatibleType && val) noexcept(noexcept( // NOLINT(bugprone-forwarding-reference-overload,bugprone-exception-escape)
      | /Users/soma/code/trae/12-03/2/06/src/main.cpp:21:55: error: no member named 'SQLiteUserRepository' in namespace 'repository'
   21 |         auto user_repo = std::make_shared<reposito    ^ry::SQLiteUserRepository>(*db_pool);
      |                                           ~~~~~~~~~~~~^

/opt/homebrew/include/nlohmann/json.hpp:852:5: note: candidate template ignored: couldn't infer template argument 'BasicJsonType'
  852 |     basic_json(const BasicJsonType& val)
      |     ^
/opt/homebrew/include/nlohmann/json.hpp:1149:5: note: candidate template ignored: couldn't infer template argument 'JsonRef'
 1149 |     basic_json(const JsonRef& ref) : basic_json(ref.moved_or_copied()) {}
      |     ^
/opt/homebrew/include/nlohmann/json.hpp:1028:5: note: candidate constructor not viable: requires 2 arguments, but 1 was provided
 1028 |     basic_json(size_type cnt, const basic_json& val):
      |     ^          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/opt/homebrew/include/nlohmann/json.hpp:1040:5: note: candidate constructor template not viable: requires 2 arguments, but 1 was provided
 1040 |     basic_json(InputIT first, InputIT last) // NOLINT(performance-unnecessary-value-param)
      |     ^          ~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Users/soma/code/trae/12-03/2/06/src/http/Server.cpp:349:72: error: no viable overloaded '='
  349 |             nlohmann::json response_data; response_data["daily_stats"] = stats; send_success_response(res, response_data);
      |                                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^ ~~~~~
/opt/homebrew/include/nlohmann/json.hpp:1252:17: note: candidate function not viable: no known conversion from 'std::vector<models::DailyStats>' to 'basic_json<>' for 1st argument
 1252 |     basic_json& operator=(basic_json other) noexcept (
      |                 ^         ~~~~~~~~~~~~~~~~
/Users/soma/code/trae/12-03/2/06/src/http/Server.cpp:362:74: error: no matching function for call to 'to_json'
  362 |             nlohmann::json response_data; response_data["top_domains"] = models::to_json(stats); send_success_response(res, response_data);
      |                                                                          ^~~~~~~~~~~~~~~
/Users/soma/code/trae/12-03/2/06/include/models/Bookmark.h:76:16: note: candidate function not viable: no known conversion from 'std::vector<models::DomainStats>' to 'const Bookmark' for 1st argument
   76 | nlohmann::json to_json(const Bookmark& bookmark);
      |                ^       ~~~~~~~~~~~~~~~~~~~~~~~~
/Users/soma/code/trae/12-03/2/06/include/models/Bookmark.h:77:16: note: candidate function not viable: no known conversion from 'std::vector<models::DomainStats>' to 'const UserStats' for 1st argument
   77 | nlohmann::json to_json(const UserStats& stats);
      |                ^       ~~~~~~~~~~~~~~~~~~~~~~
/Users/soma/code/trae/12-03/2/06/include/models/Bookmark.h:78:16: note: candidate function not viable: no known conversion from 'std::vector<models::DomainStats>' to 'const DomainStats' for 1st argument
   78 | nlohmann::json to_json(const DomainStats& stats);
      |                ^       ~~~~~~~~~~~~~~~~~~~~~~~~
/Users/soma/code/trae/12-03/2/06/include/models/Bookmark.h:79:16: note: candidate function not viable: no known conversion from 'std::vector<models::DomainStats>' to 'const DailyStats' for 1st argument
   79 | nlohmann::json to_json(const DailyStats& stats);
      |                ^       ~~~~~~~~~~~~~~~~~~~~~~~
/Users/soma/code/trae/12-03/2/06/include/models/Bookmark.h:80:16: note: candidate function not viable: no known conversion from 'std::vector<models::DomainStats>' to 'const TagStats' for 1st argument
   80 | nlohmann::json to_json(const TagStats& stats);
      |                ^       ~~~~~~~~~~~~~~~~~~~~~
/Users/soma/code/trae/12-03/2/06/include/models/Bookmark.h:81:16: note: candidate function not viable: no known conversion from 'std::vector<models::DomainStats>' to 'const FolderStats' for 1st argument
   81 | nlohmann::json to_json(const FolderStats& stats);
      |                ^       ~~~~~~~~~~~~~~~~~~~~~~~~
/Users/soma/code/trae/12-03/2/06/src/main.cpp:22:59: error: no member named 'SQLiteBookmarkRepository' in namespace 'repository'
   22 |         auto bookmark_repo = std::make_unique<repository::SQLiteBookmarkRepository>(*db_pool);
      |                                               ~~~~~~~~~~~~^
/Users/soma/code/trae/12-03/2/06/src/main.cpp:14:14: warning: unused parameter 'argc' [-Wunused-parameter]
   14 | int main(int argc, char* argv[]) {
      |              ^
/Users/soma/code/trae/12-03/2/06/src/main.cpp:14:26: warning: unused parameter 'argv' [-Wunused-parameter]
   14 | int main(int argc, char* argv[]) {
      |                          ^
/Users/soma/code/trae/12-03/2/06/src/http/Server.cpp:372:67: error: no matching function for call to 'to_json'
  372 |             nlohmann::json response_data; response_data["tags"] = models::to_json(tags); send_success_response(res, response_data);
      |                                                                   ^~~~~~~~~~~~~~~
/Users/soma/code/trae/12-03/2/06/include/models/Bookmark.h:76:16: note: candidate function not viable: no known conversion from 'std::vector<models::TagStats>' to 'const Bookmark' for 1st argument
   76 | nlohmann::json to_json(const Bookmark& bookmark);
      |                ^       ~~~~~~~~~~~~~~~~~~~~~~~~
/Users/soma/code/trae/12-03/2/06/include/models/Bookmark.h:77:16: note: candidate function not viable: no known conversion from 'std::vector<models::TagStats>' to 'const UserStats' for 1st argument
   77 | nlohmann::json to_json(const UserStats& stats);
      |                ^       ~~~~~~~~~~~~~~~~~~~~~~
/Users/soma/code/trae/12-03/2/06/include/models/Bookmark.h:78:16: note: candidate function not viable: no known conversion from 'std::vector<models::TagStats>' to 'const DomainStats' for 1st argument
   78 | nlohmann::json to_json(const DomainStats& stats);
      |                ^       ~~~~~~~~~~~~~~~~~~~~~~~~
/Users/soma/code/trae/12-03/2/06/include/models/Bookmark.h:79:16: note: candidate function not viable: no known conversion from 'std::vector<models::TagStats>' to 'const DailyStats' for 1st argument
   79 | nlohmann::json to_json(const DailyStats& stats);
      |                ^       ~~~~~~~~~~~~~~~~~~~~~~~
/Users/soma/code/trae/12-03/2/06/include/models/Bookmark.h:80:16: note: candidate function not viable: no known conversion from 'std::vector<models::TagStats>' to 'const TagStats' for 1st argument
   80 | nlohmann::json to_json(const TagStats& stats);
      |                ^       ~~~~~~~~~~~~~~~~~~~~~
/Users/soma/code/trae/12-03/2/06/include/models/Bookmark.h:81:16: note: candidate function not viable: no known conversion from 'std::vector<models::TagStats>' to 'const FolderStats' for 1st argument
   81 | nlohmann::json to_json(const FolderStats& stats);
      |                ^       ~~~~~~~~~~~~~~~~~~~~~~~~
/Users/soma/code/trae/12-03/2/06/src/http/Server.cpp:421:70: error: no matching function for call to 'to_json'
  421 |             nlohmann::json response_data; response_data["folders"] = models::to_json(folders); send_success_response(res, response_data);
      |                                                                      ^~~~~~~~~~~~~~~
/Users/soma/code/trae/12-03/2/06/include/models/Bookmark.h:76:16: note: candidate function not viable: no known conversion from 'std::vector<models::FolderStats>' to 'const Bookmark' for 1st argument
   76 | nlohmann::json to_json(const Bookmark& bookmark);
      |                ^       ~~~~~~~~~~~~~~~~~~~~~~~~
/Users/soma/code/trae/12-03/2/06/include/models/Bookmark.h:77:16: note: candidate function not viable: no known conversion from 'std::vector<models::FolderStats>' to 'const UserStats' for 1st argument
   77 | nlohmann::json to_json(const UserStats& stats);
      |                ^       ~~~~~~~~~~~~~~~~~~~~~~
/Users/soma/code/trae/12-03/2/06/include/models/Bookmark.h:78:16: note: candidate function not viable: no known conversion from 'std::vector<models::FolderStats>' to 'const DomainStats' for 1st argument
   78 | nlohmann::json to_json(const DomainStats& stats);
      |                ^       ~~~~~~~~~~~~~~~~~~~~~~~~
/Users/soma/code/trae/12-03/2/06/include/models/Bookmark.h:79:16: note: candidate function not viable: no known conversion from 'std::vector<models::FolderStats>' to 'const DailyStats' for 1st argument
   79 | nlohmann::json to_json(const DailyStats& stats);
      |                ^       ~~~~~~~~~~~~~~~~~~~~~~~
/Users/soma/code/trae/12-03/2/06/include/models/Bookmark.h:80:16: note: candidate function not viable: no known conversion from 'std::vector<models::FolderStats>' to 'const TagStats' for 1st argument
   80 | nlohmann::json to_json(const TagStats& stats);
      |                ^       ~~~~~~~~~~~~~~~~~~~~~
/Users/soma/code/trae/12-03/2/06/include/models/Bookmark.h:81:16: note: candidate function not viable: no known conversion from 'std::vector<models::FolderStats>' to 'const FolderStats' for 1st argument
   81 | nlohmann::json to_json(const FolderStats& stats);
      |                ^       ~~~~~~~~~~~~~~~~~~~~~~~~
2 warnings and 3 errors generated.
make[2]: *** [CMakeFiles/bookmark_service.dir/src/main.cpp.o] Error 1
make[2]: *** Waiting for unfinished jobs....
9 errors generated.
make[2]: *** [CMakeFiles/bookmark_service.dir/src/http/Server.cpp.o] Error 1
make[1]: *** [CMakeFiles/bookmark_service.dir/all] Error 2
make: *** [all] Error 2
